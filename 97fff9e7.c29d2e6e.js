(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{209:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var r=n(2),o=n(6),a=(n(0),n(320)),s={title:"Publish a new release of RadGrad",sidebar_label:"Publish a new release"},i={unversionedId:"developers/deployment/howto/publish-a-release-mup",id:"developers/deployment/howto/publish-a-release-mup",isDocsHomePage:!1,title:"Publish a new release of RadGrad",description:"Once RadGrad is running on a server, you can follow these steps to update it with a new release.",source:"@site/docs/developers/deployment/howto/publish-a-release-mup.md",slug:"/developers/deployment/howto/publish-a-release-mup",permalink:"/docs/developers/deployment/howto/publish-a-release-mup",version:"current",lastUpdatedBy:"Philip Johnson",lastUpdatedAt:1612567114,sidebar_label:"Publish a new release",sidebar:"mainSidebar",previous:{title:"Setup CAS",permalink:"/docs/developers/deployment/howto/setup-cas"},next:{title:"Reset the database",permalink:"/docs/developers/deployment/howto/reset-db"}},l=[{value:"Obtain the mup.js and settings.js files",id:"obtain-the-mupjs-and-settingsjs-files",children:[]},{value:"Update settings.json",id:"update-settingsjson",children:[]},{value:"Perform quality assurance",id:"perform-quality-assurance",children:[]},{value:"Deploy to production",id:"deploy-to-production",children:[]},{value:"Commit files with version info to GitHub",id:"commit-files-with-version-info-to-github",children:[]}],c={rightToc:l};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Once RadGrad is running on a server, you can follow these steps to update it with a new release."),Object(a.b)("h2",{id:"obtain-the-mupjs-and-settingsjs-files"},"Obtain the mup.js and settings.js files"),Object(a.b)("p",null,"If you are not the person who originally set up the server, you will need to obtain the production mup.js and setting.js files, which contain the credentials for the server."),Object(a.b)("p",null,"Once you have those files, put them in the .deploy directory."),Object(a.b)("h2",{id:"update-settingsjson"},"Update settings.json"),Object(a.b)("p",null,"Next, check to make sure that your settings.json and mup.js have the correct values for this release."),Object(a.b)("p",null,"If you are planning to load a new snapshot of the database, then you will need to follow the instructions to ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"reset-db"}),"reset the production DB"),"."),Object(a.b)("p",null,"If you are just deploying an updated version of the code, then you shouldn't reset the database."),Object(a.b)("h2",{id:"perform-quality-assurance"},"Perform quality assurance"),Object(a.b)("p",null,"Before making a new release, consider ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/developers/testing/overview"}),"running the tests")," and check that they all pass."),Object(a.b)("h2",{id:"deploy-to-production"},"Deploy to production"),Object(a.b)("p",null,"Once you have completed quality assurance and have assured yourself that the code is ready for deployment, you can deploy as follows:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"cd .deploy/\nmup deploy\n")),Object(a.b)("p",null,"You should check the logs after deploying:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"mup logs\n")),Object(a.b)("h2",{id:"commit-files-with-version-info-to-github"},"Commit files with version info to GitHub"),Object(a.b)("p",null,"Note that the ",Object(a.b)("inlineCode",{parentName:"p"},"mup deploy")," command changes several files to record the version number. Please commit those changes to GitHub. If you indicate the release number in the commit message, it will be a little easier to figure out the code corresponding to the release later."))}u.isMDXComponent=!0},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),u=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),b=r,h=p["".concat(s,".").concat(b)]||p[b]||d[b]||a;return n?o.a.createElement(h,i(i({ref:t},c),{},{components:n})):o.a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);