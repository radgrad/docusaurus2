(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{239:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return p}));var n=a(2),r=a(6),o=(a(0),a(320)),c={title:"Sticky State"},i={unversionedId:"developers/patterns/sticky-state",id:"developers/patterns/sticky-state",isDocsHomePage:!1,title:"Sticky State",description:"Problem",source:"@site/docs/developers/patterns/sticky-state.md",slug:"/developers/patterns/sticky-state",permalink:"/docs/developers/patterns/sticky-state",version:"current",lastUpdatedBy:"Philip Johnson",lastUpdatedAt:1626886720,sidebar:"mainSidebar",previous:{title:"The RadGrad Sandbox",permalink:"/docs/developers/patterns/sandbox"},next:{title:"Overview of RadGrad Reviews",permalink:"/docs/developers/reviews/overview"}},s=[{value:"Problem",id:"problem",children:[]},{value:"Solution",id:"solution",children:[]},{value:"Example",id:"example",children:[]}],l={rightToc:s};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"problem"},"Problem"),Object(o.b)("p",null,"We want certain state variables to be available across components and to not lose their value when the user navigates back and forth between pages in the application."),Object(o.b)("p",null,'Previously, we implemented this behavior using Redux.  But we discovered that Redux is a pretty complicated solution if all you want to do is provide more "global" access to state variables.'),Object(o.b)("h2",{id:"solution"},"Solution"),Object(o.b)("p",null,'RadGrad now implements a utility component called "Sticky State", based upon ',Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://simpler-state.js.org/"}),"Simpler State"),".  The StickyState component provides a hook called useStickyState() and is used in exactly the same manner as useState()."),Object(o.b)("p",null,"For example, to create a non-sticky state variable, you use the useState() hook:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"  :\nconst [checkState, setCheckState] = useState(true);\nconst handleChange = (e, { checked }) => setCheckState(checked);\nconst checkStateValue = checkState ? 'Checked' : 'Not Checked';\n  :\n")),Object(o.b)("p",null,'To create a "sticky" state variable, you just use useStickyState() rather than useState():'),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"  :\nconst [checkState, setCheckState] = useStickyState('SandboxStickyState', true);\nconst handleChange = (e, { checked }) => setCheckState(checked);\nconst checkStateValue = checkState ? 'Checked' : 'Not Checked';\n  :\n")),Object(o.b)("p",null,"Unlike useState(), useStickyState() requires a string ID to be provided in addition to the initial value. This is cool, because it allows you to access the same state variable in any component in the application just by using the same invocation of useStickyState()."),Object(o.b)("h2",{id:"example"},"Example"),Object(o.b)("p",null,"An interactive example of the use of useStickyState() is available in the stickystate sandbox page:"),Object(o.b)("img",{src:"/img/patterns/sticky-state.png"}),Object(o.b)("p",null,"Source code for this sandbox example is available ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/radgrad/radgrad2/tree/master/app/imports/ui/pages/sandbox"}),"in the sandbox/ directory"),"."))}p.isMDXComponent=!0},320:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(a),b=n,m=u["".concat(c,".").concat(b)]||u[b]||d[b]||o;return a?r.a.createElement(m,i(i({ref:t},l),{},{components:a})):r.a.createElement(m,i({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,c=new Array(o);c[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var l=2;l<o;l++)c[l]=a[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);